KISSY.add("kg/mini-login/6.0.2/index",["node","dom","event","cookie","ua","ajax"],function(i,t,e,n){var o,s=t("node"),r=t("dom"),l=t("event"),c=t("cookie"),a=t("ua"),h=t("ajax");o=function(t){var e=s,n=r,o=l,d=c,f=a,g=h,u="https:"===location.protocol?"https:":"http:",p=i.unparam(location.search.slice(1))._login_daily_,m=b?"//g-assets.daily.taobao.net/":"//g.alicdn.com/",b=p||-1!==location.host.indexOf(".daily."),_=6===f.ie,x=!1;try{x=!!window.navigator.userAgent.match(/WindVane/i)}catch(v){}var w="1.4.6",k=b?"daily.taobao.net":"taobao.com",y=u+"//buy."+k+"/auction/buy.htm?from=tbcminilogin?_minilogin_t_={t}",C=u+"//member1."+k+"/member/info/login_status.do?_minilogin_t_={t}",H=u+"//tms.alicdn.com/go/act/loginsuccess/taobao.php",I="https://login."+k+"/member/login.jhtml?style=mini&is_ignore=false&redirect_url="+window.encodeURIComponent(H),z="https://login."+k+"/member/login.jhtml?redirect_url="+window.encodeURIComponent(location.href),S="http://login.m.taobao.com/login.htm?tpl_redirect_url="+encodeURIComponent(location.href),j=".#{prefixCls}mini-login{display:none;width:#{width}px;height:#{height}px;opacity:1;color:#404040;position:fixed;_position:absolute;z-index:#{zindex};}.#{prefixCls}mnl-bg{position:absolute;z-index:0;width:100%;height:100%;border:5px solid #999;left:-5px;top:-5px;opacity:0.8;}.#{prefixCls}mnl-box{position:relative;z-index:1;background:#fafafa;}.#{prefixCls}mnl-hd{height:34px;line-height:34px;padding-left:14px;font-family:Arial,Helvetica,sans-serif;font-weight:700;font-size:14px;margin-bottom:15px;border-bottom:1px solid #EAEAEA;background-color:#f2f2f2;}.#{prefixCls}mnl-ifr{display:block;width:#{ifrwidth}px;height:#{ifrheight}px;margin:0 auto;}.#{prefixCls}mnl-ft{background-color:#F5F5F5;}.#{prefixCls}mnl-close{display:block;width:24px;height:24px;text-align:center;line-height:24px;color:#999;font-family:Tahoma,sans;font-size:22px;position:absolute;text-decoration:none;top:5px;right:5px;opacity:0.8}.#{prefixCls}mnl-close:hover{opacity:1;border-radius:12px;background:#FFF;text-decoration:none;}",A='<div id="J_MiniLogin_{guid}" class="{prefixCls}mini-login"><div class="{prefixCls}mnl-bg"></div><div class="{prefixCls}mnl-box"><div class="{prefixCls}mnl-hd">{title}</div><div class="{prefixCls}mnl-bd"><iframe class="{prefixCls}mnl-ifr" scrolling="no" frameborder="no" id="J_MiniLoginIfr_{guid}" src="{url}"></iframe></div><div class="{prefixCls}mnl-ft"><a class="{prefixCls}mnl-close" id="J_MiniLoginClose_{guid}" target="_self" title="关闭此窗口" href="javascript:void(0)">×</a></div></div></div>',T=window.goldlog||{record:function(){}};T.record("/minilogin.10.1","","","H46866756");var B=window.g_config?g_config.loginCfg:{},E=i.merge({width:328,height:328,title:"账户登录",type:"m",sub:0,zindex:1e8},B||{}),O=[],F=function(t){return this instanceof F?(this.cfg=i.merge(E,t||{}),this.guid=i.guid(),this.type=this.cfg.type,this.sub=this.cfg.sub,this.zindex=this.cfg.zindex,this.checkapi=2===this.cfg.checkapi?2:1,this.cfg.guid=this.guid,this.cfg.ifrwidth=this.cfg.width-10,this.cfg.ifrheight=this.cfg.height-50,this.cfg.url=I,this.cfg.zindex=this.zindex,void this._init()):new F(t)};return i.augment(F,o.Target,{_init:function(){try{this.nick=TB.Global.util.getNick()}catch(i){}T.record("/minilogin.10.2","","","H46866778")},_create:function(){var t=i.substitute(j,this.cfg,/#\{([^{}]+)\}/g),o=i.substitute(A,this.cfg);n.addStyleSheet(t),this.el=e.one(n.create(o)),n.append(this.el,document.body),this.ifr=e.one("#J_MiniLoginIfr_"+this.guid),this._bind()},_bind:function(){var i=this;e.all("#J_MiniLoginClose_"+this.guid).on("click",function(t){t.halt(),i.hide(!1)}),this.ifr.on("load",function(t){return"about:blank"!==i.ifr.attr("src")?i.ifr.data("inited")?0===i.ifr.attr("src").indexOf(H)?void i._successHandle():0===i.ifr.attr("src").indexOf(I)?void i._checkAndShow(!0):void 0:void i.ifr.data("inited",1):void 0})},_pos:function(){var t,e,o=this.cfg.position;i.isObject(o)?(t=o.left||0,e=o.top||0):(t=parseInt(n.viewportWidth()/2,10)-parseInt(this.el[0].offsetWidth/2,10)+"px",e=(_?n.scrollTop():0)+parseInt(n.viewportHeight()/2,10)-parseInt(this.el[0].offsetHeight/2,10)+"px"),this.el.css({top:e,left:t})},_errorHandle:function(){window.top.location.href=x?S:z,T.record("/minilogin.10.11","","","H46896547")},_successHandle:function(t){var e=this;this.callbacked||(this.callbacked=!0,this.hide(!0),this.fire("login",{showed:!t}),i.each(O,function(i){i.fire("anylogin"),i.guid!=e.guid&&i.fire("otherlogin")}),this.callback&&this.callback(),this.callback=null,this._refreshGlobal(),T.record("/minilogin.10.10","","","H46896546"))},_refreshGlobal:function(){try{var i=TB.Global.util.getNick();if(i===this.nick)return;TB.Global.reload(),this.nick=i}catch(t){}},_localCheck:function(i){var t=d.get("_l_g_"),e=d.get("lgc"),n=d.get("tracknick");return"l"===this.type?void i(!!e):(i(null,t&&n),void T.record("/minilogin.10.6","","","H46866782"))},_asyncCheck:function(t){var e=this,n=1===this.checkapi?y:C;n=i.substitute(n,{t:i.now()}),1===this.checkapi?KISSY.IO.getScript(n,function(){return loginIndicator&&i.isObject(loginIndicator)?void(loginIndicator.hasLoggedIn?t(null,!0):t(null,!1)):(t(new Error("ErrCheckByBuy")),void T.record("/minilogin.10.9","","","H46866785"))}):g({url:n,type:"get",dataType:"jsonp",timeout:5,complete:function(n){return n&&i.isObject(n)?void(n.ma?t(!0):e.sub&&n.sa?t(null,!0):t(null,!1)):(t(new Error("ErrCheckByMember1")),void T.record("/minilogin.10.8","","","H46866784"))}}),T.record("/minilogin.10.7","","","H46866783")},check:function(i){"l"===this.type?this._localCheck(i):this._asyncCheck(i),T.record("/minilogin.10.5","","","H46866781")},_windVaneShow:function(){var i=this;g.getScript(m+"mtb/lib-windvane/"+w+"/windvane.js",function(){try{WindVane.call("TBHDCommon","login",{},function(t){i._successHandle()},function(t){i._errorHandle()})}catch(t){i._errorHandle()}})},_show:function(){return x?void this._windVaneShow():(this.el||this._create(),this.ifr.attr("src",I),this.el.show(),this._pos(),this.showed=!0,void e.one(window).on(_?"scroll resize":"resize",this._pos,this))},_checkAndShow:function(i){var t=this;this.check(function(e,n){if(e)return void t._errorHandle();if(n===!0)t._successHandle(i?!1:!0);else{if(t.ifr&&1===t.ifr.data("inited"))return;t._show()}})},show:function(i){this.callback=i,this._checkAndShow(),T.record("/minilogin.10.3","","","H46866779")},hide:function(i){this.callbacked=!1,T.record("/minilogin.10.4","","","H46866780"),this.el&&this.showed&&(this.el.hide(),this.showed=!1,this.callback=null,this.ifr.attr("src","about:blank"),this.ifr.data("inited",0),i?this.fire("hide"):this.fire("close"),e.one(window).detach(_?"scroll resize":"resize",this._pos,this))}}),t=F}(),n.exports=o});KISSY.add("kg/datalazyload/6.0.0/index",["dom","event","base"],function(t,e,n,o){var a,r=e("dom"),i=e("event"),c=e("base");a=function(e){function n(t){var e,n,o,a=[];return function(r,i){return 0===i||i||(i=1),1&i&&!n&&(n=!0,t(function(t){for(e=t;o=a.shift();)try{o&&o.apply(null,[e])}catch(n){setTimeout(function(){throw n},0)}})),e?(r&&r.apply(null,[e]),e):(2&i||r&&a.push(r),e)}}function o(e,n,o){function a(){r&&(r.cancel(),r=0),i=t.now(),e.apply(o||this,arguments),c=t.now()}var r,i=0,c=0,n=n||150;return t.mix(function(){!i||c>=i&&t.now()-c>n||i>c&&t.now()-i>8*n?a():(r&&r.cancel(),r=t.later(a,n,0,null,arguments))},{stop:function(){r&&(r.cancel(),r=0)}})}function a(e,n,o){e.style.display=x,e.className="";var a=m.create("<div>");e.parentNode.insertBefore(a,e);var r=e.value;if(t.isFunction(o)){var i=o({type:"textarea",elem:e,value:r});i&&(r=i)}return m.html(a,r,n),a}function l(t){return t._ks_lazy_width?t._ks_lazy_width:t._ks_lazy_width=m.outerWidth(t)}function s(t){return t._ks_lazy_height?t._ks_lazy_height:t._ks_lazy_height=m.outerHeight(t)}function u(t,e,n){if(!t.offsetWidth)return!1;var o,a=m.offset(t),r=!0,i=a.left,c=a.top,u={left:i,top:c,right:i+l(t),bottom:c+s(t)};return o=f(e,u),o&&n&&(r=f(n,u)),r&&o}function d(e,n){var o=this;if(!(o instanceof d))return new d(e,n);var a=e;t.isPlainObject(a)||(a=n||{},e&&(a.container=e)),d.superclass.constructor.call(o,a),o._callbacks={},o._containerIsNotDocument=9!=o.get("container").nodeType,t.isArray(a.container)&&(o._backCompact=1),o._initLoadEvent(),a.container&&o.addElements(a.container),o._loadFn(),t.ready(function(){o._loadFn()}),o.resume()}function f(t,e){var n={};return n.top=Math.max(t.top,e.top),n.bottom=Math.min(t.bottom,e.bottom),n.left=Math.max(t.left,e.left),n.right=Math.min(t.right,e.right),n.bottom>=n.top&&n.right>=n.left}function g(e,n,o,a){"img-src"===n&&(n="img"),t.isArray(e)||(e=[m.get(e)]);var r=new d(p,{});r.set("imgFlag",o||y+k),r.set("areaFlag",o||b+k),r.set("onStart",a),r.set("force",!0),r.addElements(e,n)}var m=r,h=i,_=c,v=t.Env.host,p=v.document,y="data-ks-lazyload",b="ks-datalazyload",k="-custom",w="default",x="none",F="scroll",z="touchmove",H="resize",I=100,A=0,D=function(e,n,o,a){function r(t){e.src!=t&&(e.src=t),e.removeAttribute(n)}n=n||y;var i=e.getAttribute(n),c={type:"img",elem:e,src:i},l=!t.isFunction(o)||o(c)!==!1;l&&c.src&&(t.isFunction(a)?t.use("./plugin/webp",function(t,e){e.isSupport(function(t){r(t?a(c.src):c.src)})}):r(c.src))};return d.ATTRS={diff:{value:w},placeholder:{value:"//g.alicdn.com/s.gif"},execScript:{value:!0},container:{setter:function(e){return e=e||p,t.isWindow(e)?e=e.document:(e=m.get(e),"body"==m.nodeName(e)&&(e=e.ownerDocument)),e},valueFn:function(){return p}},autoDestroy:{value:!0},onStart:{value:null}},t.extend(d,_,{_initLoadEvent:function(){var e=this,n=e.get("autoDestroy");e.imgHandle=function(){D(this,e.get("imgFlag"),e.get("onStart"),e.get("webpReplacer"))},e.textareaHandle=function(){e.addElements(a(this,e.get("execScript"),e.get("onStart")))},e._loadFn=o(function(){n&&0==e._counter&&t.isEmptyObject(e._callbacks)&&e.destroy(),e._loadItems()},I,e)},refresh:function(){this._loadFn()},_loadItems:function(){var e=this,n=e.get("container");(!e._containerIsNotDocument||n.offsetWidth)&&(e._windowRegion=e._getBoundingRect(),!e._backCompact&&e._containerIsNotDocument&&(e._containerRegion=e._getBoundingRect(e.get("container"))),t.each(e._callbacks,function(t,n){t&&e._loadItem(n,t)}))},_loadItem:function(t,e){var n=this,e=e||n._callbacks[t];if(!e)return!0;var o=e.el,a=!1,r=e.fn;if(n.get("force")||u(o,n._windowRegion,n._containerRegion))try{a=r.call(o)}catch(i){setTimeout(function(){throw i},0)}return a!==!1&&delete n._callbacks[t],a},addCallback:function(e,n){e=m.get(e);var o=this,a=o._callbacks,r={el:e||document,fn:n||t.noop},i=++A;a[i]=r,o._windowRegion?o._loadItem(i,r):o.refresh()},removeCallback:function(e,n){e=m.get(e);var o=this._callbacks;t.each(o,function(t,a){t.el==e&&(n?t.fn==n:1)&&delete o[a]})},getElements:function(){var e=this,n=[],o=[],a=e._callbacks;return t.each(a,function(t){t.fn==e.imgHandle&&n.push(t.el),t.fn==e.textareaHandle&&o.push(t.el)}),{images:this._images,textareas:this._textareas}},addElements:function(e,o){"string"==typeof e?e=m.query(e):t.isArray(e)||(e=[e]);var a=this;a._counter=a._counter||0,t.each(e,function(e){o&&"img"!==o||t.each(t.filter([e].concat(m.query("img",e)),function(t){return t.getAttribute&&t.getAttribute(a.get("imgFlag")||y)},a),function(t){a.onPlaceHolder=a.onPlaceHolder||n(function(t){var e=new Image,n=a.get("placeholder");e.src=n,e.onload=e.onerror=function(){t(n)}}),t.offsetWidth?a.addCallback(t,a.imgHandle):(a._counter++,t.onload=function(){a._counter--,a.addCallback(t,a.imgHandle)},t.src||a.onPlaceHolder(function(e){t.src||(t.src=e)}))}),o&&"textarea"!==o||t.each(m.query("textarea."+(a.get("areaFlag")||b),e),function(t){a.addCallback(t,a.textareaHandle)})})},removeElements:function(e){"string"==typeof e?e=m.query(e):t.isArray(e)||(e=[e]);var n=this,o=n._callbacks;t.each(o,function(n,a){t.inArray(n.el,e)&&delete o[a]})},_getBoundingRect:function(e){var n,o,a,r;if(void 0!==e){n=m.outerHeight(e),o=m.outerWidth(e);var i=m.offset(e);a=i.left,r=i.top}else n=m.viewportHeight(),o=m.viewportWidth(),a=m.scrollLeft(),r=m.scrollTop();var c=this.get("diff"),l=c===w?o:c,s=0,u=l,d=c===w?n:c,f=0,g=d,h=a+o,_=r+n;return t.isObject(c)&&(s=c.left||0,u=c.right||0,f=c.top||0,g=c.bottom||0),a-=s,h+=u,r-=f,_+=g,{left:a,top:r,right:h,bottom:_}},pause:function(){var t=this,e=t._loadFn;if(!t._destroyed&&(h.remove(v,F,e),h.remove(v,z,e),h.remove(v,H,e),e.stop(),t._containerIsNotDocument)){var n=t.get("container");h.remove(n,F,e),h.remove(n,z,e)}},resume:function(){var t=this,e=t._loadFn;if(!t._destroyed&&(h.on(v,F,e),h.on(v,z,e),h.on(v,H,e),t._containerIsNotDocument)){var n=t.get("container");h.on(n,F,e),h.on(n,z,e)}},destroy:function(){var e=this;e.pause(),e._callbacks={},t.log("datalazyload is destroyed!"),e.fire("destroy"),e._destroyed=1}}),d.loadCustomLazyData=g,t.DataLazyload=d,e=d}(),o.exports=a});